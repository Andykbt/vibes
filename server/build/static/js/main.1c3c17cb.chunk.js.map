{"version":3,"sources":["Components/Weather/Weather.module.css","Components/Search/Search.module.css","Components/Recommendations/Recommendations.module.css","Components/Centerpiece/Centerpiece.module.css","Components/Centerpiece/Centerpiece.js","Components/Recommendations/Recommendations.js","Components/Search/Search.js","Components/SpotifyLogin/SpotifyLogin.js","Components/Weather/Weather.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","Centerpiece","weather","useState","imageSrc","setSrc","transition","useTransition","cod","from","opacity","transform","scale","enter","leave","config","duration","delay","useEffect","weatherID","id","handleWeather","console","log","process","style","div","className","classes","autoPlay","loop","muted","controls","src","type","Recommendations","tracks","transApi","useSpringRef","hoveredTrack","setHovered","Object","keys","length","ref","trail","props","useSpring","right","useChain","container","box","item","article","onMouseEnter","href","External_link","target","Image","rightContainer","Title","Artist","formReducer","state","event","name","value","Search","useReducer","formData","setFormData","setSubmitting","results","setResults","setWeather","setTracks","getRecommendations","fetch","then","res","json","queue","i","push","artists","album","images","url","external_urls","spotify","loading","setLoading","mode","searchbox","onSubmit","preventDefault","setTimeout","entries","map","city","toString","method","headers","body","JSON","stringify","data","placeholder","onChange","refresh","sub","spin","onClick","resultsContainer","cities","cityName","matching_full_name","str","_links","n","lastIndexOf","substring","slice","geocodeID","index","cityID","callback","renderResults","SpotifyLogin","params","setParams","displayName","setDisplayName","e","hashParams","r","q","window","location","hash","exec","decodeURIComponent","getHashParams","getUser","access_token","display_name","Weather","left","tension","friction","transitions","section","temp","main","secondaryContainer","secondary","icon","faTint","humidity","faWind","wind","speed","faTemperatureHigh","temp_max","temp_min","App","showPlayer","setShowPlayer","val","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1c3c17cb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Weather_container__2vUkM\",\"wrapper\":\"Weather_wrapper__2idER\",\"temp\":\"Weather_temp__2pBkc\",\"city\":\"Weather_city__PKWlB\",\"secondary\":\"Weather_secondary__2uywI\",\"secondaryContainer\":\"Weather_secondaryContainer__3xFYT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbox\":\"Search_searchbox__1bvT6\",\"sub\":\"Search_sub__7W8jH\",\"refresh\":\"Search_refresh__3_VQe\",\"rotateIcon\":\"Search_rotateIcon__1seFA\",\"spin\":\"Search_spin__2tBkQ\",\"resultsContainer\":\"Search_resultsContainer__1yE41\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Recommendations_container__1JtDZ\",\"box\":\"Recommendations_box__1kR9d\",\"rightContainer\":\"Recommendations_rightContainer__2Oygd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Centerpiece\":\"Centerpiece_Centerpiece__RuEYP\"};","import { useEffect, useState } from 'react'\r\nimport { animated, useSpring, useSpringRef, useTransition, useChain } from 'react-spring';\r\nimport classes from './Centerpiece.module.css'\r\n\r\nexport default function Centerpiece({weather}) {\r\n    const [imageSrc, setSrc] = useState(\"\")\r\n\r\n    const transition = useTransition(weather.cod === 200 ? weather : [], {\r\n        from: { opacity: 0, transform: \"translateX(-50%) translateY(0%)\", scale: 0 },\r\n        enter: { opacity: 1, transform: \"translateX(-50%) translateY(0%)\", scale: 1 },\r\n        leave: { opacity: 0, transform: \"translateX(-50%) translateY(0%)\", scale: 0 },\r\n        config: { duration: 1000, delay: 1000 }\r\n    });\r\n\r\n    function handleWeather(weather) {\r\n        var weatherID = weather?.weather[0].id;\r\n        if (weatherID < 300) {  //Thunder\r\n            setSrc(\"/assets/Thunder.mp4\")\r\n        } else if (weatherID < 600) { //Rain\r\n            setSrc(\"/assets/Rainy.mp4\")\r\n        } else if (weatherID < 800) { //Snow\r\n            setSrc(\"/assets/Snowy.mp4\")\r\n        } else if (weatherID === 800) { //Clear\r\n            setSrc(`/assets/Sunny.mp4`)\r\n        } else if (weatherID > 800) { //Cloudy\r\n            setSrc(\"/assets/Cloudy.mp4\")\r\n        }\r\n    }\r\n    \r\n    useEffect(() => {\r\n        if (weather.cod === 200)\r\n            handleWeather(weather);\r\n            console.log(process.env.PUBLIC_URL)\r\n    }, [weather])\r\n\r\n    return (transition((style) => (\r\n        <animated.div className={classes.Centerpiece} style={{...style}}>\r\n            <video className={''} autoPlay={true} loop={true} muted={true} controls={false}>\r\n                <source src={imageSrc} type='video/mp4'/>\r\n            </video>\r\n        </animated.div>\r\n    )))\r\n}","import React, { useEffect, useState } from \"react\"\r\nimport { animated, useSpring, useSpringRef, useTransition, useChain } from 'react-spring';\r\nimport classes from './Recommendations.module.css'\r\n\r\nexport default function Recommendations({tracks}) {\r\n    const transApi = useSpringRef();\r\n    const [hoveredTrack, setHovered] = useState({});\r\n\r\n    const transition = useTransition( Object.keys(tracks).length === 5 ? tracks : [], {\r\n        ref: transApi,\r\n        trail: 400,\r\n        from: { opacity: 0, scale: 0 },\r\n        enter: { opacity: 1, scale: 1 },\r\n        leave: { opacity: 0, scale: 0 }\r\n    });\r\n\r\n    const props = useSpring({\r\n        opacity: Object.keys(hoveredTrack).length !== 0 ? 1 : 0,\r\n        right: Object.keys(hoveredTrack).length !== 0 ? '0em' : '-30em'\r\n    })\r\n\r\n    useChain([transApi], [1])\r\n\r\n    return (\r\n        <div className={classes.container}>\r\n            <div className={classes.box}>\r\n                {transition((style, item) => (\r\n                    <animated.article style={{ ...style}}\r\n                        onMouseEnter={() => setHovered(item)}\r\n                    >\r\n                        <a href={item.External_link} target=\"_blank\">\r\n                            <img src={item.Image}></img>\r\n                        </a>\r\n                    </animated.article>\r\n                ))}\r\n            </div>\r\n\r\n            {Object.keys(hoveredTrack).length !== 0 &&\r\n                <animated.article className={classes.rightContainer} style={props}>\r\n                    <a href={hoveredTrack.External_link} target=\"_blank\"><img src={hoveredTrack.Image} /></a>\r\n                    <a href={hoveredTrack.External_link} target=\"_blank\">\r\n                        <h1>{hoveredTrack.Title}</h1>\r\n                        <p>{hoveredTrack.Artist}</p>\r\n                    </a>\r\n                </animated.article>\r\n            }\r\n        </div>\r\n        \r\n    );\r\n}","import { useState, useReducer, useEffect } from \"react\"\r\nimport fetch from \"node-fetch\";\r\nimport classes from './Search.module.css'\r\nimport Recommendations from \"../Recommendations/Recommendations\";\r\nimport { animated, useSpring } from 'react-spring';\r\n\r\nconst formReducer = (state, event) => {\r\n    return {\r\n      [event.name]: event.value\r\n    }\r\n}\r\n  \r\nconst Search = (props) => {\r\n  {/*\r\n      FORM HANDLING and rendering search results\r\n  */}\r\n  const [formData, setFormData] = useReducer(formReducer, {})\r\n  const [submitting, setSubmitting] = useState(false)\r\n  const [results, setResults] = useState(null);\r\n\r\n  const handleChange = event => {\r\n    setFormData({\r\n      name: event.target.name,\r\n      value: event.target.value\r\n    })\r\n  }\r\n\r\n  const handleSubmit = event => {\r\n      event.preventDefault();\r\n      setSubmitting(true)\r\n\r\n      if (props.mode === \"Submit\") {\r\n        setTimeout(() => {\r\n        Object.entries(formData).map(([name, value]) => (\r\n            getCity(value.toString())\r\n        ))\r\n\r\n        setSubmitting(false)\r\n        }, 0)\r\n      } else {\r\n        \r\n      }\r\n  }\r\n\r\n  function renderResults() {\r\n    if (results === 0) {\r\n        return(<h1>No results found</h1>)\r\n      } else {\r\n        let cities = [];\r\n  \r\n        for (var i = 0; i < results.length; i++) {\r\n          let cityName = results[i].matching_full_name\r\n          let str = results[i]._links['city:item'].href\r\n          let n = str.lastIndexOf(\"geonameid:\") + 10; \r\n  \r\n          str = str.substring(n).slice(0, -1)\r\n  \r\n          cities.push({\r\n            city: cityName,\r\n            geocodeID: str\r\n          })\r\n        }\r\n        return(\r\n          cities.map((data, index) => <a id={index} onClick={() => {getWeather(data.geocodeID);}}>{data.city}</a>)\r\n        )\r\n      }\r\n    }\r\n    \r\n  function getCity(city) {\r\n    fetch('/city', {\r\n      method: 'post',\r\n      headers: {\r\n          'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n          city: city\r\n      })\r\n    }).then(res => res.json())\r\n    .then(data => {\r\n      setResults(data)\r\n    });\r\n  }\r\n\r\n  {/*\r\n    Getting weather\r\n  */}\r\n  const [weather, setWeather] = useState({})\r\n  function getWeather(cityID) {\r\n    setResults({})\r\n    fetch('/weather', {\r\n      method: 'post',\r\n      headers: {\r\n          'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n          cityID: cityID\r\n      })\r\n    }).then(res => res.json())\r\n      .then(data => {\r\n        setWeather(data)\r\n        props.callback(data)\r\n        getRecommendations()\r\n      });\r\n  }\r\n\r\n  /*\r\n    Getting recommendations\r\n  */\r\n  const [tracks, setTracks] = useState({})\r\n  function getRecommendations() {\r\n    fetch('/recommendations')\r\n    .then(res => res.json())\r\n    .then(res => res.tracks)\r\n    .then(tracks => {\r\n      var queue = []\r\n      for (var i = 0; i < tracks.length; i++) {\r\n        queue.push({\r\n            Title: tracks[i].name,\r\n            Artist: tracks[i].artists[0].name,\r\n            Image: tracks[i].album.images[1].url,\r\n            External_link: tracks[i].external_urls.spotify\r\n          })\r\n      }\r\n      setTracks(queue)\r\n    })\r\n  }\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  function refreshRecommendations() {\r\n    if (!loading) {\r\n      setLoading(true)\r\n      setTracks({})\r\n      \r\n      setTimeout(() => {\r\n        console.log(\"getting new tracks\")\r\n        getRecommendations()\r\n\r\n        setTimeout(() => {\r\n          setLoading(false)\r\n        }, 4000)\r\n\r\n      }, 3000)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (props.mode === \"Submit\") {\r\n      setTracks({})\r\n    }\r\n  }, [props.mode])\r\n\r\n\r\n\r\n  return(\r\n      <div>\r\n          <form className={classes.searchbox} onSubmit={handleSubmit}>\r\n            {props.mode === \"Submit\" ?\r\n              <input className={classes.searchbox} type=\"text\" placeholder=\"Enter a city...\" onChange={handleChange}></input>\r\n              : <Recommendations tracks={tracks}/> \r\n            }\r\n            <button className={`${props.mode === \"Refresh\" ? classes.refresh : classes.sub} ${loading ? classes.spin : \"\"}`}\r\n              onClick={props.mode === \"Refresh\" ? refreshRecommendations : null}\r\n            />\r\n          </form>\r\n  \r\n          {results && props.mode == \"Submit\" &&\r\n              <section className={classes.resultsContainer}>\r\n                  { renderResults() }\r\n              </section>\r\n          }\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default Search","import fetch from \"node-fetch\";\r\nimport React, { useEffect, useState } from \"react\";\r\n\r\n\r\nfunction getHashParams() {\r\n    var hashParams = {};\r\n    var e, r = /([^&;=]+)=?([^&;]*)/g,\r\n        q = window.location.hash.substring(1);\r\n    while ( e = r.exec(q)) {\r\n      hashParams[e[1]] = decodeURIComponent(e[2]);\r\n    }\r\n  \r\n    return hashParams;\r\n  }\r\n\r\nconst SpotifyLogin = () => {\r\n    const [params, setParams] = useState({});\r\n    const [displayName, setDisplayName] = useState(\"\")\r\n    \r\n    useEffect(() => {\r\n        setParams(getHashParams());\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        getUser()\r\n    }, [params])\r\n\r\n    const getUser = () => {\r\n        fetch('https://api.spotify.com/v1/me', {\r\n            headers: {'Authorization': 'Bearer ' + params.access_token},\r\n            json: true\r\n        }).then(res => res.json())\r\n        .then(res => {\r\n            setDisplayName(res.display_name)\r\n        })\r\n    }\r\n\r\n    return(\r\n        <div className=\"spotify\">\r\n            {params.access_token ?\r\n                <div>\r\n                    {displayName ?\r\n                        <a href=\"\">Hi, <span>{displayName}</span></a>\r\n                    :   <a href=\"\">Logout</a>\r\n                    }\r\n                </div>\r\n            :<a href=\"https://vibes-spotify.herokuapp.com/login\">Login with <span>Spotify</span></a>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SpotifyLogin","import React, { useEffect, useState } from 'react'\r\nimport classes from './Weather.module.css'\r\nimport { useSpring, useTransition, animated as a } from 'react-spring'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faWind, faTemperatureHigh, faTemperatureLow, faTint } from '@fortawesome/free-solid-svg-icons'\r\n\r\nexport default function Weather({weather}) {\r\n\r\n    const transitions = useTransition(weather.cod === 200 ? weather : [], {\r\n        from:   { left: '-100%'  },\r\n        enter:  { left: '13%' },\r\n        leave:  { left: '-100%' }, \r\n        config: { tension: 170, friction: 50 }\r\n    })\r\n\r\n    return transitions((style, item) => (\r\n        <a.section className={classes.container} style={{ ...style}}>\r\n            <div>    \r\n                <h1 className={classes.temp}>{item.main.temp}&deg;C</h1>\r\n                <h2 className={classes.city}>{item.name}</h2>\r\n            </div>\r\n            <div className={classes.secondaryContainer}>    \r\n                <div className={classes.secondary}><FontAwesomeIcon icon={faTint} /><span>{item.main.humidity}%</span></div>\r\n                <div className={classes.secondary}><FontAwesomeIcon icon={faWind} /><span>{item.wind.speed}km/hr</span></div>\r\n                <div className={classes.secondary}><FontAwesomeIcon icon={faTemperatureHigh} /><span>{item.main.temp_max}/{item.main.temp_min}</span></div>\r\n            </div>\r\n        </a.section>\r\n    ))\r\n}\r\n","import React, { useEffect, useState} from \"react\";\nimport \"./App.css\";\nimport Centerpiece from \"./Components/Centerpiece/Centerpiece\";\nimport Search from \"./Components/Search/Search\";\nimport SpotifyLogin from \"./Components/SpotifyLogin/SpotifyLogin\";\nimport Weather from \"./Components/Weather/Weather\"\n// import Landing from \"/assets/Landing.gif\"\n\nfunction App() {\n  const [weather, setWeather] = useState({});\n  const [showPlayer, setShowPlayer] = useState(false)\n  const [tracks, setTracks] = useState({})\n\n  function offPlayer() {\n    setShowPlayer(false)\n    setTracks({})\n    setWeather({})\n  }\n\n  function callback(val) {\n    setShowPlayer(true)\n    setWeather(val);\n  }\n\n  return (\n    // <div className='App' style={ !showPlayer ? {backgroundImage: `url('/assets/Landing.gif')`} : {}}>\n    <div className='App'>\n      {!showPlayer &&\n        <video className={'landing bg'} autoPlay={true} loop={true} muted={true} controls={false}>\n          <source src={`/assets/Landing.mp4`} type='video/mp4'/>\n        </video>\n      }\n      \n      <div className={`header ${showPlayer ? \"expand\" : \"\"}`}>\n        <h1 onClick={offPlayer} className={`heading ${showPlayer ? \"expand\" : \"\"}`}><p className=\"transition\">v</p>ibes</h1>\n        <SpotifyLogin/>\n      </div>\n\n      <Weather weather={weather? weather : ''}/>\n      \n      <Centerpiece weather={weather? weather : ''}/>\n\n      <div className={`main ${showPlayer ? \"expand\" : \"\"}`}>\n        {!showPlayer\n          ? <Search callback={callback} mode={\"Submit\"}/>\n          : <Search callback={callback} mode={\"Refresh\"}/>\n        }\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}